Docker安装
阿里安装:
  yum install wget
  wget http://download.redis.io/release/redis-5.0.5.tar.gz
  tar xf redis-5.0.5.tar.gz
  
  进入源码目录src  README.md   --- 规避IO
  make  
  yum install gcc  
  make distclean
  make
  cd src 查看已可执行程序
  make install PREFIX=/opt/devilhan/redis5
  vi /etc/profile
    export REDIS_HOME=/opt/devilhan/redis5
    export PATH=$PATH:$REDIS_HOME/bin
  source /etc/profile
  cd utils
  ./install_server.sh
  一个物理机中可以有多个redis实例（进程）,通过port区分
  多个实例需各自配置文件
  service redis_6379 start/stop/status  > linux /etc/init.d/**
  
  string:  (字符串string|数值int|位图bitmap)
    append  key value   -> Append a value to a key
    
    bitcount key [start end]  -> count set bits in a string
    
    bitfield key [GET type offset] [SET type offset value] [INCRBY type offset increment] [OVERFLOW WRAP|SAT|FAIL]
              -> Perform arbitrary bitfield integer operations on strings
    
    bitop  operation destkey key [key ...] -> Perform bitwise operations between strings
    
    bitpos key bit [start] [end] -> Find first bit set or clear in a string
   
    decr key -> Decrement the integer value of a key by one
    
    decrby key decrement -> Decrement the integer value of a key by the given number
    
    get key -> Get the value of a key
    
    getbit key offset -> Returns the bit value at offset in the string value stored at key
    
    getrange key start end -> Get a substring of the string stored at a key
    
    getset key value -> Set the string value of a key and return its old value
    
    incr key -> Increment the integer value of a key by one
    
    incrby key increment -> Increment the  integer value of a key by the given amount
    
    incrbyfloat key increment -> Increment the float value of a key by the given amount
    
    mget key [key ...] -> Get the value of all the given keys
    
    mset key value [key value...] -> Set multiple keys to multiple values
    
    msetnx key value [key value...] -> Set multiple keys to multiple values ,only if none of the keys exist
    
    psetex key milliseconds value -> set the value and expiration in milliseconds of a key
    
    set key value [expiration ex seconds | px milliseconds] [nx|xx]
    
    setbit key offset value -> Sets or clears the bit at offset in the string value stored at key
    
    setex key seconds value -> Set the value and expiration of a key
    
    setnx key value -> Set the value of a key ,only if the key does not exist
    
    setrange key offset value -> Overwrite part of a string at key starting at the specified offset
    
    strlen key -> Get the length of the value stored in a key 
    
    应用bitmap
    
      统计用户登录天数：
        假设：
          setbit devilhan 7 1  ->  第8天登录
          setbit devilhan 1 1 ->  第二天登录
          setbit devilhan 364 1 -> 第365天登录
          
          strlen devilhan  -> 最长消耗46个字节  -> 46
          bitcount devilhan -2 -1  -> 取最后两个字节， 16天  -> 1
     
      618做活动：只要登录就要送礼物
        仓库备份多少礼物
        假设京东有2E用户
            僵尸用户
            冷热用户/忠诚用户
            
            活跃用户统计
                1号~3号 连续登录去重
                setbit 20190101 1 1   用户1 1号登录
                setbit 20190102 1 1   用户1 2号登录
                setbit 20190102 7 1   用户2 2号登录
                bitop or destkey 20190101 20190102  -> 进行或运算
                bitcount destkey 0 -1  -> 活跃用户为2
                
    list:
      
      blpop key [key ...] timeout  -> Remove and get the first element in a list,or block until one is available
      
      brpop key [key ...] timeout  -> Remove and get the last element in a list , or block until one is available
      
      brpoplpush source destination timeout -> Pop a value from a list , push it to another list and return it ; or block until one is available
      
      lindex key index -> Get an element from a list by its index
      
      linsert key before|after pivot value  ->  Insert an element before or after another element in a list  
      
      llen key -> Get the length of a list 
      
      lpop key -> Remove and get the first element in a list
      
      lpush key value [value ...]  -> Prepend one or multiple values to a list
      
      lpushx key value -> Prepend a value to a list ,only of the list exists
      
      lrange key start stop -> Get a range of elements from a list
      
      lrem key count value -> Remove elements from a list
      
      lset key index value -> Set the value of an element in a list by its index
      
      ltrim key start top -> Trim a list to the specified range
       
      rpop key -> Remove and get the last element in a list
      
      rpoplpush sourve destination -> Remove the last element in a list ,prepend it to another list and return it
      
      rpush key value [value ...] -> Append one or multiple values to a list
      
      rpushx key value -> Append a value to a list ,only if the list exists
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
    
    
redis 二进制安全：取字符流    
